#include "c_stl.h"

char* itoa( int num, char* buf,int base)
{
	int i=0;
	int j=0;
	char temp;

	if (base>=100){
		base -= 100;
		temp = 0x37;
	}
	else
		temp = 0x57;

	do{
		buf[i] = (num%base);
		if (buf[i] >= 10)
			buf[i] += temp;
		else
			buf[i] += 0x30;
		num = num/base;
		++i;
	}while(num > 0);

	buf[i] = '\0';
	--i;
	while(j<i){
		temp   = buf[j];
		buf[j] = buf[i];
		buf[i] = temp;
		++j;
		--i;
	}

	return buf;
}


int convertBCD(int num)
{
	int i;
	int mult = 1;
	int temp;

	temp = ((num & 0xF0000)>>16)*1000;
	temp += ((num & 0xF0)>>12)*100;
	temp += ((num & 0xF0)>>8)*10;
	temp += num & 0xF;

	for (i=0; num != 0; i += 4)
	{
		temp += (num & 0x0F)* mult;
		mult *= 10;
		num = num >> 4;
	}

	return temp;
}
